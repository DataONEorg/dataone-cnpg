# Custom CNPG Resource for Scheduled Backups
apiVersion: postgresql.cnpg.io/v1
kind: ScheduledBackup
metadata:
  name: {{ .Release.Name }}-scheduled-backup
spec:
  cluster:
    name: {{ .Release.Name }}-cnpg
  backupOwnerReference: self
  schedule: '0 0 21 * * *' # 9PM UTC Daily - Six-term cron schedule specification: https://cloudnative-pg.io/documentation/1.20/backup/
  immediate: true